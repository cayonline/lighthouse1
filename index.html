<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cinematic Lighthouse Boost</title>

<style>
body{
    margin:0;
    overflow:hidden;
    background:black;
    font-family:Arial, sans-serif;
    color:white;
}

/* Night Sky */
.sky{
    position:fixed;
    width:100%;
    height:100%;
    background:radial-gradient(circle at 50% 20%, #0a1a2f, #000814 70%);
}

/* Stars */
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    border-radius:50%;
    opacity:0.8;
}

/* Lighthouse */
.lighthouse{
    position:absolute;
    bottom:0;
    left:50%;
    transform:translateX(-50%);
    width:120px;
    height:350px;
    background:linear-gradient(to top,#222,#444);
    border-radius:60px 60px 10px 10px;
    box-shadow:0 0 30px rgba(255,255,255,0.1);
}

/* Light Chamber */
.chamber{
    position:absolute;
    top:-40px;
    left:50%;
    transform:translateX(-50%);
    width:140px;
    height:80px;
    background:#111;
    border-radius:10px;
}

/* Rotating Beam */
.beam{
    position:absolute;
    top:-20px;
    left:50%;
    transform-origin:center left;
    width:900px;
    height:300px;
    background:radial-gradient(ellipse at left,
        rgba(255,255,230,0.95) 0%,
        rgba(255,255,200,0.5) 40%,
        rgba(255,255,200,0.2) 60%,
        transparent 80%);
    animation:rotate 8s linear infinite;
    opacity:0.25;
    pointer-events:none;
}

@keyframes rotate{
    from{transform:translateX(0) rotate(0deg);}
    to{transform:translateX(0) rotate(360deg);}
}

/* Energy Bar */
.bar{
    position:fixed;
    bottom:40px;
    left:50%;
    transform:translateX(-50%);
    width:70%;
    height:28px;
    background:#111;
    border-radius:20px;
    overflow:hidden;
    box-shadow:0 0 15px rgba(255,255,255,0.2);
}

.fill{
    height:100%;
    width:0%;
    background:linear-gradient(to right,cyan,gold);
    transition:width 0.15s linear;
}

/* Button */
button{
    position:fixed;
    bottom:90px;
    left:50%;
    transform:translateX(-50%);
    padding:18px 40px;
    font-size:20px;
    font-weight:bold;
    border:none;
    border-radius:40px;
    background:gold;
    cursor:pointer;
}

button:active{
    transform:translateX(-50%) scale(0.95);
}

/* Flash */
.flash{
    position:fixed;
    width:100%;
    height:100%;
    background:white;
    opacity:0;
    pointer-events:none;
}

/* Spark */
.spark{
    position:absolute;
    width:5px;
    height:5px;
    background:gold;
    border-radius:50%;
    animation:spark 1.2s ease-out forwards;
}

@keyframes spark{
    from{opacity:1; transform:scale(1);}
    to{opacity:0; transform:translateY(-150px) scale(3);}
}
</style>
</head>

<body>

<div class="sky" id="sky"></div>

<div class="lighthouse" id="lighthouse">
    <div class="beam" id="beam"></div>
    <div class="chamber"></div>
</div>

<button onclick="boost()">CLICK TO BOOST âš¡</button>

<div class="bar">
    <div class="fill" id="fill"></div>
</div>

<div class="flash" id="flash"></div>

<script>
let energy=0;
let combo=1;
let lastClick=0;
let fullTriggered=false;

/* Generate stars */
for(let i=0;i<300;i++){
    let s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*100+"%";
    s.style.opacity=Math.random();
    document.getElementById("sky").appendChild(s);
}

function boost(){
    if(fullTriggered) return;

    let now=Date.now();
    if(now-lastClick<300){
        combo+=0.3;
    }else{
        combo=1;
    }

    energy+=2*combo;
    if(energy>100) energy=100;

    lastClick=now;

    impactEffect();
    updateUI();

    if(energy>=100){
        fullTriggered=true;
        triggerFullPower();
    }
}

function updateUI(){
    document.getElementById("fill").style.width=energy+"%";
    document.getElementById("beam").style.opacity=0.25+(energy/150);
    document.getElementById("lighthouse").style.boxShadow=
        "0 0 "+(energy/2)+"px rgba(255,255,200,0.8)";
}

/* Decay */
setInterval(()=>{
    if(fullTriggered) return;
    energy-=0.15;
    if(energy<0) energy=0;
    updateUI();
},100);

/* Impact */
function impactEffect(){
    screenShake();
    createSpark();
}

function screenShake(){
    document.body.style.transform=
        "translate("+(Math.random()*8-4)+"px,"+(Math.random()*8-4)+"px)";
    setTimeout(()=>document.body.style.transform="translate(0,0)",80);
}

function createSpark(){
    for(let i=0;i<8;i++){
        let s=document.createElement("div");
        s.className="spark";
        s.style.left=(window.innerWidth/2 + (Math.random()*200-100))+"px";
        s.style.top=(window.innerHeight*0.55)+"px";
        document.body.appendChild(s);
        setTimeout(()=>s.remove(),1200);
    }
}

/* FULL POWER */
function triggerFullPower(){
    let flash=document.getElementById("flash");
    flash.style.opacity=1;
    setTimeout(()=>flash.style.opacity=0,500);

    document.getElementById("beam").style.opacity=1;

    glitterStorm();
    cinematicZoom();

    setTimeout(resetExperience,8000);
}

function glitterStorm(){
    for(let i=0;i<300;i++){
        let s=document.createElement("div");
        s.className="spark";
        s.style.left=Math.random()*window.innerWidth+"px";
        s.style.top=Math.random()*window.innerHeight+"px";
        document.body.appendChild(s);
        setTimeout(()=>s.remove(),1500);
    }
}

function cinematicZoom(){
    document.getElementById("lighthouse").style.transform=
        "translateX(-50%) scale(1.2)";
}

function resetExperience(){
    energy=0;
    combo=1;
    fullTriggered=false;
    document.getElementById("lighthouse").style.transform=
        "translateX(-50%) scale(1)";
    updateUI();
}
</script>

</body>
</html>
